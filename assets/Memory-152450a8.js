import{r as h,a as A,j as s}from"./index-b8fb75a2.js";function M(){const[e,c]=h.useState(6),[l,d]=h.useState(4),[m,y]=h.useState(Array(l).fill(null).map(()=>Array(e).fill(0))),[u,p]=h.useState(Array(l).fill(null).map(()=>Array(e).fill("down")));function v(){let t=Array(e*l).fill(0);t=t.map((i,r)=>r%(e*l/2)+1);let a=0;for(let i=t.length-1;i>0;i--)a=b(i),C(t,i,a);y(w(t,l,e)),p(Array(l).fill(null).map(()=>Array(e).fill("down")))}function g(t,a){const i=[...u],r=[];if(u.map((o,f)=>o.map((n,S)=>{n==="up"&&r.push([f,S])})),r.length!==2){if(r.length===0&&u[t][a]==="down"&&(i[t][a]="up"),r.length===1){const o=r[0][0],f=r[0][1];if(t===o&&a===f)return;i[t][a]="up",i[o][f]="up",m[t][a]===m[o][f]?setTimeout(()=>{const n=[...u];n[t][a]="empty",n[o][f]="empty",p(n)},1e3):setTimeout(()=>{const n=[...u];n[t][a]="down",n[o][f]="down",p(n)},1e3)}p(i)}}return h.useEffect(()=>v(),[]),A("div",{children:[m.map((t,a)=>s("div",{className:"horizontal",children:t.map((i,r)=>s("div",{className:`square-${u[a][r]}`,onClick:o=>g(a,r),children:s("div",{children:i})},r))},a)),s("label",{htmlFor:"difficulty",children:"Choose a difficulty:"}),A("select",{name:"difficulty",id:"difficulty",onChange:t=>c(parseInt(t.target.value)),children:[s("option",{value:"4",children:"Easy"}),s("option",{value:"5",children:"Medium"}),s("option",{value:"6",children:"Hard"})]})," ",s("button",{onClick:v,children:"New Game"})]})}function w(e,c,l){return Array(c).fill(null).map(()=>Array(l).fill(0)).map((m,y)=>m.map((u,p)=>e[l*y+p]))}function C(e,c,l){let d=e[c];e[c]=e[l],e[l]=d}function b(e){return Math.floor(Math.random()*e)}export{M as default};
