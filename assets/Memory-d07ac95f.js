import{r as h,a as S,j as y}from"./index-e8df8f01.js";function j(){const[t,o]=h.useState(4),[u,p]=h.useState(Array(t).fill(null).map(()=>Array(t).fill(0))),[i,m]=h.useState(Array(t).fill(null).map(()=>Array(t).fill("down")));function c(){let e=Array(t*t).fill(0);e=e.map((l,r)=>r%(t*t/2)+1),console.log(e);let a=0;for(let l=e.length-1;l>0;l--)a=d(l),w(e,l,a);p(g(e)),m(Array(t).fill(null).map(()=>Array(t).fill("down")))}function A(e,a){const l=[...i],r=[];if(i.map((s,f)=>s.map((n,v)=>{n==="up"&&r.push([f,v])})),r.length!==2){if(r.length===0&&i[e][a]==="down"&&(l[e][a]="up"),r.length===1){const s=r[0][0],f=r[0][1];if(e===s&&a===f)return;l[e][a]="up",l[s][f]="up",u[e][a]===u[s][f]?setTimeout(()=>{const n=[...i];n[e][a]="empty",n[s][f]="empty",m(n)},1e3):setTimeout(()=>{const n=[...i];n[e][a]="down",n[s][f]="down",m(n)},1e3)}m(l)}}return h.useEffect(()=>c,[]),S("div",{children:[u.map((e,a)=>y("div",{className:"horizontal",children:e.map((l,r)=>y("div",{className:`square-${i[a][r]}`,onClick:s=>A(a,r),children:y("div",{children:l})},r))},a)),y("button",{onClick:c,children:"New Game"})]})}function g(t){let o=Math.sqrt(t.length);return Array(o).fill(null).map(()=>Array(o).fill(0)).map((p,i)=>p.map((m,c)=>t[o*i+c]))}function w(t,o,u){let p=t[o];t[o]=t[u],t[u]=p}function d(t){return Math.floor(Math.random()*t)}export{j as default};
