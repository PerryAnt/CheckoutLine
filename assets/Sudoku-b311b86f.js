import{r as m,j as a,F as k,a as g}from"./index-37ba2049.js";function x(){const[r,n]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(0))),[h,c]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(!1))),[o,z]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(0)));m.useEffect(()=>{w()},[]);function w(){let l=window.location.origin;window.location.href.includes("github")&&(l+="/ReactStuff"),l+="/Sudoku/sudoku.csv",fetch(l).then(e=>e.text()).then(e=>S(e)).then(e=>{z(e),n(e)}).catch(e=>console.log(e))}function b(l,e,t){o[l][e]||(isNaN(t)&&(t=0),!(t>9)&&n(d=>r.map((u,f)=>f==l?[...u.slice(0,e),t,...u.slice(e+1)]:[...u])))}function y(){n(l=>r.map((e,t)=>[...o[t]]))}return m.useEffect(()=>{let l=Array(9).fill(null).map(()=>Array(9).fill(!1));for(let e=0;e<9;e++)for(let t=0;t<9;t++){for(let i=e+1;i<9;i++){r[e][t]>0&&r[e][t]==r[i][t]&&(l[e][t]=!0,l[i][t]=!0);for(let s=t+1;s<9;s++)r[e][t]>0&&r[e][t]==r[e][s]&&(l[e][t]=!0,l[e][s]=!0)}let d=Math.floor(e/3),u=Math.floor(t/3),f=0,p=0;for(let i=0;i<3;i++)for(let s=0;s<3;s++)f=3*d+i,p=3*u+s,e!=f&&t!=p&&r[e][t]>0&&r[e][t]==r[f][p]&&(l[e][t]=!0,l[f][p]=!0)}c(l)},[r]),a(k,{children:g("div",{children:[a("table",{children:a("tbody",{children:r.map((l,e)=>a("tr",{children:l.map((t,d)=>a(v,{number:t,wrong:h[e][d],onChange:u=>b(e,d,parseInt(u.target.value))},d))},e))})}),a("button",{onClick:w,children:"New Puzzle"}),a("button",{onClick:y,children:"Reset Puzzle"}),g("p",{children:["This project is partially motivated by"," ",a("a",{href:"https://www.youtube.com/watch?v=dCCYALKSZEs",children:"this"})," youtube video, the version in the video sends a partially complete Sudoku board to an API which sends back the solution, then fills the board with that solution. My version gets a random puzzle from a file and the user is meant to try to solve it."]}),g("p",{children:["The puzzles are from"," ",a("a",{href:"https://www.kaggle.com/datasets/bryanpark/sudoku",children:"this"})," ","kaggle dataset where someone generated a large number of Sudoku. I took a small number of those puzzles and a random one is selected when a new puzzle is needed."]})]})})}function S(r){let n=r.split(/\r?\n|\r|\n/);n=n.at(-1)===""?n.slice(1,-1):n.slice(1),n=n.map(c=>c.split(",")[0]);let h=Math.floor(Math.random()*n.length);return C(n[h])}function C(r){let h=r.split("").map(o=>parseInt(o)),c=[];for(let o=0;o<9;o++)c.push(h.slice(9*o,9*(o+1)));return c}function v(r){return a("td",{children:a("input",{className:r.wrong?"wrong":"input",value:r.number>0?r.number:"",onChange:r.onChange})})}export{x as default};
