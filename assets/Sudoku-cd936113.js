import{r as m,j as n,F as k,a as g}from"./index-1d18a6ee.js";function x(){const[r,o]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(0))),[f,c]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(!1))),[a,z]=m.useState(Array(9).fill(null).map(()=>Array(9).fill(0)));m.useEffect(()=>{w()},[]);function w(){let l="/Sudoku/sudoku.csv";window.location.href.includes("github")&&(l="/ReactStuff"+l),l=window.location.origin+l,window.location.href.includes("localhost"),console.log(l),fetch(l).then(e=>e.text()).then(e=>S(e)).then(e=>{z(e),o(e)}).catch(e=>console.log(e))}function b(l,e,t){a[l][e]||(isNaN(t)&&(t=0),!(t>9)&&o(d=>r.map((s,h)=>h==l?[...s.slice(0,e),t,...s.slice(e+1)]:[...s])))}function y(){o(l=>r.map((e,t)=>[...a[t]]))}return m.useEffect(()=>{let l=Array(9).fill(null).map(()=>Array(9).fill(!1));for(let e=0;e<9;e++)for(let t=0;t<9;t++){for(let i=e+1;i<9;i++){r[e][t]>0&&r[e][t]==r[i][t]&&(l[e][t]=!0,l[i][t]=!0);for(let u=t+1;u<9;u++)r[e][t]>0&&r[e][t]==r[e][u]&&(l[e][t]=!0,l[e][u]=!0)}let d=Math.floor(e/3),s=Math.floor(t/3),h=0,p=0;for(let i=0;i<3;i++)for(let u=0;u<3;u++)h=3*d+i,p=3*s+u,e!=h&&t!=p&&r[e][t]>0&&r[e][t]==r[h][p]&&(l[e][t]=!0,l[h][p]=!0)}c(l)},[r]),n(k,{children:g("div",{children:[n("table",{children:n("tbody",{children:r.map((l,e)=>n("tr",{children:l.map((t,d)=>n(C,{number:t,wrong:f[e][d],onChange:s=>b(e,d,parseInt(s.target.value))},d))},e))})}),n("button",{onClick:w,children:"New Puzzle"}),n("button",{onClick:y,children:"Reset Puzzle"}),g("p",{children:["This project is partially motivated by"," ",n("a",{href:"https://www.youtube.com/watch?v=dCCYALKSZEs",children:"this"})," youtube video, the version in the video sends a partially complete Sudoku board to an API which sends back the solution, then fills the board with that solution. My version gets a random puzzle from a file and the user is meant to try to solve it."]}),g("p",{children:["The puzzles are from"," ",n("a",{href:"https://www.kaggle.com/datasets/bryanpark/sudoku",children:"this"})," ","kaggle dataset where someone generated a large number of Sudoku. I took a small number of those puzzles and a random one is selected when a new puzzle is needed."]})]})})}function S(r){let o=r.split(/\r?\n|\r|\n/);o=o.at(-1)===""?o.slice(1,-1):o.slice(1),o=o.map(c=>c.split(",")[0]);let f=Math.floor(Math.random()*o.length);return v(o[f])}function v(r){let f=r.split("").map(a=>parseInt(a)),c=[];for(let a=0;a<9;a++)c.push(f.slice(9*a,9*(a+1)));return c}function C(r){return n("td",{children:n("input",{className:r.wrong?"wrong":"input",value:r.number>0?r.number:"",onChange:r.onChange})})}export{x as default};
